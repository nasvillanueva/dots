#!/usr/bin/env zsh

CONFIG_HOME="$HOME/dots"
PLUGIN_BASE_DIR="start" # Make all plugin auto load, TODO: Support opt
PLUGIN_HOME="$CONFIG_HOME/local/share/nvim/site/pack/nxs/$PLUGIN_BASE_DIR"

function add() {
  if [[ -z "$1" ]]; then
    echo "You forgot to provide plugin name"
    exit 1
  fi

  while [[ -n "$1" ]]; do
    git submodule add "https://github.com/$1" "$PLUGIN_HOME/$(basename $1)"
    shift
  done
}

function remove() {
  if [[ -z "$1" ]]; then
    echo "You forgot to provide plugin name"
    exit 1
  fi

  while [[ -n "$1" ]]; do
    rm -rf "$PLUGIN_HOME/$(basename $1)"
    shift
  done
}

command="$1"

case $command in
  add)
    shift

    add "$@"
    ;;
  remove)
    shift

    remove "$@"
    ;;
  *)
    echo "Command '$1' not supported"
    exit 1
    ;;
esac

